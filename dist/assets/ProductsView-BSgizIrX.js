import{_ as h,c as n,b as t,F as p,d as P,o as r,t as l,w as m}from"./index-DwjhUn82.js";var _={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"david777",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const f={data(){return{products:[]}},methods:{getProducts(){const{VITE_APP_URL:s,VITE_APP_PATH:a}=_,i=`${s}/api/${a}/products`;this.$http.get(i).then(e=>{this.products=e.data.products}).catch(e=>{console.log(e)})},productDetail(s){this.$router.push(`/productdetail/${s}`)},addCart(s){const{VITE_APP_URL:a,VITE_APP_PATH:i}=_,e=`${a}/api/${i}/cart`,d={product_id:s.id,qty:1};this.$http.post(e,{data:d}).then(c=>{c.data.success&&alert("加入購物車!")}).catch(c=>{alert("加入購物車失敗")})}},mounted(){this.getProducts()}},b={class:"row",style:{"list-style":"none"}},v={class:"card h-100"},y=["src"],$={class:"card-body d-flex flex-column"},g={class:"mb-3"},A={class:"card-title"},E={class:"card-text"},T={class:"d-flex justify-content-between mt-auto"},V=["onClick"],x=["onClick"];function k(s,a,i,e,d,c){return r(),n("div",null,[t("ul",b,[(r(!0),n(p,null,P(d.products,o=>(r(),n("li",{class:"col-md-3 mb-4",key:o.id},[t("div",v,[t("img",{src:o.imageUrl,class:"card-img-top",alt:"...",height:"180"},null,8,y),t("div",$,[t("div",g,[t("h5",A,l(o.title),1),t("p",E,l(o.description),1)]),t("div",T,[t("button",{type:"button",class:"btn btn-secondary",onClick:u=>c.productDetail(o.id)}," 查看細節 ",8,V),t("button",{type:"button",class:"btn btn-primary",onClick:m(u=>c.addCart(o),["prevent"])}," 加入購物車 ",8,x)])])])]))),128))])])}const D=h(f,[["render",k]]);export{D as default};
